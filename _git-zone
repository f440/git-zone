#compdef git

# zsh completion for git-zone (git subcommand)

_git_zone() {
    # Get all local branches, remote branches (cleaned), and tags
    local -a all_refs
    all_refs=(${(f)"$(git for-each-ref --format='%(refname:short)' refs)"})

    _arguments -C \
        '(-h --help)'{-h,--help}'[Show help message and exit.]' \
        '(-c)'-c'[Create a new branch]:branch name:' \
        '*::Branch, PR number, or PR URL:_values "refs" $all_refs'
}
